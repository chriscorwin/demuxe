<%_
const includeDebugInfoStart = `
============================================================
Demuxe: including engine/includes/global/footer-scripts.ejs now...
------------------------------------------------------------
`;
const includeDebugInfoEnd = `
...end engine/includes/global/footer-scripts.ejs
------------------------------------------------------------
`;
console.group(includeDebugInfoStart);
%>
<script>
	console.group(`<%=includeDebugInfoStart%>`);
</script>

<!-- each page automatically tries to include a javascript file of the same name -->
<% if (locals.siteSection) { %>
<script>console.group(`Going to run: <%=locals.siteSection%>.js`)</script>

<script src="/javascripts/<%=locals.siteSection%>.js"></script>
<script>console.groupEnd()</script>
<% } %>
<% 
if (locals.pageScripts) { 
	locals.pageScripts.forEach(function(script) { 
%>
		<script src="/javascripts/<%=script%>"></script>
<% 
	});
} 
%>
<script type="text/javascript">
	const navigatePage = ( url ) => {
		window.location.href = url;
	}

	if ( location.host === 'localhost:3000' ) {
		document.write( '<script src="http://' + ( location.host || 'localhost' )
			.split( ':' )[ 0 ] + ':35729/livereload.js?snipver=1"></' + 'script>' );
	}
</script>

<% if (locals.env !== 'local') { %>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133829434-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133829434-1');
</script>
<% } %>
<script>
	console.log(`<%=includeDebugInfoEnd%>`);
	console.groupEnd();
</script>
<%_
console.log(includeDebugInfoEnd);
console.groupEnd();
%>

